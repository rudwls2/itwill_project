<!DOCTYPE html>
<!--[if IE 7]><html class="ie ie7 no-js" lang="en-US"><![endif]--><!--[if IE 8]><html class="ie ie8 no-js" lang="en-US"><![endif]--><!--[if !(IE 7) | !(IE 8)  ]><!-->
<html xmlns:th="http://www.thymeleaf.org">

<head><!-- Basic need -->
	<title>Mango>Magazine</title>
	<meta charset="UTF-8">
	<meta name="description" content="">
	<meta name="keywords" content="">
	<meta name="author" content="">
	<link rel="profile" href="#"><!--Google Font-->
	<link rel="stylesheet" href='http://fonts.googleapis.com/css?family=Dosis:400,700,500|Nunito:300,400,600' />
	<!-- Mobile specific meta -->
	<meta name=viewport content="width=device-width, initial-scale=1">
	<meta name="format-detection" content="telephone-no"><!-- CSS files -->
	<link rel="stylesheet" href="css/plugins.css">
	<link rel="stylesheet" href="css/style.css">

</head>

<body><!--preloading-->


	<div th:insert="~{common_header :: headerFragment}">
	</div>


	<div class="page-single">
		<div class="container">
			<div class="row">
				<div class="col-md-9 col-sm-12 col-xs-12">
					<div class="row" id="magazineContainer">

						<div class="row">
							<div th:each="magazine, iterStat : *{magazines}" th:if="${iterStat.index lt 6}">
								<div class="col-md-4 col-sm-12 col-xs-12">
									<div class="blog-item-style-2"><a
											th:href="@{/board_other_detail(boardId=${magazine.boardId})}">
											<img th:src="@{${magazine.boardImage}}" alt=""></a>
										<div class="blog-it-infor">
											<h3><a th:href="@{/board_other_detail(boardId=${magazine.boardId})}"
													th:text="${magazine.boardTitle}">MAGAZINE
													TITLE1.....</a></h3>
											<span class="time"
												th:text="${#temporals.format(magazine.createdTime, 'yyyy.MM.dd')}">2023.10.19</span>

											<p>조회수 : <span th:text="${magazine.boardReadCount}">0</span></p>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>

					<div class="row">
					</div>
					
				</div>
				<div class="col-md-3 col-sm-12 col-xs-12">
					<div class="sidebar">
						<div class="sb-search sb-it">
							<h4 class="sb-title">Search Title</h4><input type="text" id="searchInput"
								placeholder="Enter keywords">
						</div>

						<div class="sb-recentpost sb-it">
							<h4 class="sb-title">most popular in month</h4>
							<div class="recent-item"><span>01</span>
								<h6><a th:href="@{/board_other_detail(boardId=${top3Magazines[0].boardId})}"
										th:text="${top3Magazines[0].boardTitle + ' (' + top3Magazines[0].boardReadCount + ')'}">REST
										CONTROLLER처리</a></h6>
							</div>
							<div class="recent-item"><span>02</span>
								<h6><a th:href="@{/board_other_detail(boardId=${top3Magazines[1].boardId})}"
										th:text="${top3Magazines[1].boardTitle + ' (' + top3Magazines[1].boardReadCount + ')'}">REST
										CONTROLLER처리 </a></h6>
							</div>
							<div class="recent-item"><span>03</span>
								<h6><a th:href="@{/board_other_detail(boardId=${top3Magazines[2].boardId})}"
										th:text="${top3Magazines[2].boardTitle + ' (' + top3Magazines[2].boardReadCount + ')'}">REST
										CONTROLLER처리</a></h6>
							</div>
						</div>


						<!--userId가 admin일때 보이기 -->
						<div th:if="${session == null or (userIdString != null and userIdString == 'admin')}"
							class="searh-form">
							<form class="form-style-1 celebrity-form"
								action="/2023-05-JAVA-DEVELOPER-final-project-team1-mango/board_write">
								<div class="row">
									<div class="col-md-12">
										<input class="submit" type="submit" value="작성하기">
									</div>
								</div>
							</form>
						</div>



					</div>
				</div>
			</div>
		</div>
	</div><!--end of  blog grid section--><!-- footer section-->

	<div th:insert="~{common_footer :: footerFragment}">
	</div>

</body>
<!--<script>
	// 조회수를 비동기적으로 증가시키기 위한 함수
	function increaseReadCount(boardId) {
		//const boardIdInt = parseInt(boardId, 10);
		
		alert("테스트중")
		
		
		$.ajax({
			type: "POST",
			url: "/2023-05-JAVA-DEVELOPER-final-project-team1-mango/BoardReadCount/" + boardIdInt,
			contentType: "application/json",
			success: function (response) {
				// 페이지에 표시된 조회수를 업데이트합니다.
				$("#readCount_" + boardId).text(response.boardReadCount);
				alert("성공")
			},
			error: function () {
				alert("실패")
				console.error("조회수 증가 실패.");
			}
		});
	}
</script>-->


<script src="js/jquery.js"></script>
<script src="js/plugins.js"></script>
<script src="js/plugins2.js"></script>
<script src="js/custom.js"></script>
<script src="js/board.js"></script>

<script>

</script>

</html>